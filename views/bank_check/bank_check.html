<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
 	<link rel="stylesheet" href="/resource/bs_css/bootstrap.min.css">
 	<!--<link rel="stylesheet" type="text/css" href="/resource/bank_check.css">-->
 	<!--<link rel="stylesheet" type="text/css" href="resource/normalize.css">-->
	<title>Alfa</title>
	<h1>Cadastro de Cheques</h1>
</head>
<body onload="Today()">
	<div id="header">
		<a href="/logout" id="right">Logout</a>
		<ul>
			 <li><a href="/client">Clientes</a></li>
			 <li><a href="/calculation">Cálculo</a></li>
			<!-- <li><a href="/alfa/bank_check">Cadastro</a></li> -->
		</ul>
	</div>
	
	<div class="wrap">
 		<form class="form-inline" action="" method="post">
	 		<div class="form-group mb-2">
				<select  class="form-control form-control-sm" id="selectBox" onchange="selectClient(this)" onclick="setIndex()" onblur="setIndex()">
					<option value="">Cliente</option>
					{loop="$Users"}
					<option id="options" value="{$value.clientId}">{$value.clientName}</option>
					{/loop}
				</select>

			 	<input type="hidden" id="idClient" name="idClient">	

				<input type="text" class="form-control form-control-sm" name="client" id="client" onkeypress="return false" required><br>

			 	<label for="bank">Banco</label>
			 	<input type="text" class="form-control form-control-sm" name="bank" id="bank" required>
			 	
			 	<label for="agency">Agência</label>
			 	<input type="tel" class="form-control form-control-sm" name="agency" id="agency" required>
			 	
			 	<label for="account">Conta</label>
			 	<input type="tel" class="form-control form-control-sm" name="account" id="account" required=>	 	
			 			 	
			 	<label for="numchk">Nº Cheque</label>
			 	<input type="tel" class="form-control form-control-sm" name="numchk" id="numchk" required>
			 	
			 	<label for="value">Valor</label>
			 	<input type="number" class="form-control form-control-sm" step="0.01" name="value" id="value" onblur="formatMoeda(this)" maxlength="15" required><br>

			 	<label for="dtToday">Data</label>
			 	<input type="date" class="form-control form-control-sm" name="dtToday" id="dtToday" required>

			 	<label for="issuer">Emitente</label>
			 	<input type="text" class="form-control form-control-sm" name="issuer" id="issuer" required>	

			 	<label for="dtDue">Venc.</label>
			 	<input type="date" class="form-control form-control-sm" name="dtDue" id="dtDue" onblur="difDates()" required>

			 	<label for="cod">Cód.Cheque</label>
			 	<input type="text" class="form-control form-control-sm" name="cod" id="cod" tabindex="-1" readonly>

			 	<label for="tax">Taxa</label>
			 	<input type="number" class="form-control form-control-sm" step="0.01" name="tax" id="tax" onblur="formatMoeda(this)" required>

			 	<label for="days">Tot.Dias</label>
			 	<input type="text" class="fform-control form-control-sm" name="days" id="days" onblur="calcJuros()" readonly required>

			 	<label for="interest">Juros</label>
			 	<input type="text" class="form-control form-control-sm" name="interest" id="interest" onblur="formatMoeda(this)" readonly required>

			 	<label for="liquid">Líquido</label>
			 	<input type="text" class="form-control form-control-sm" name="liquid" id="liquid" onblur="formatMoeda(this)" readonly required>		 	

			 	<input type="submit" class="btn btn-success" onclick="return calc()" value="Salvar">
			</div> <!--form-group-->
		</form>
	</div>

	<div class="data">
		<table border="1px" cellpadding="5px" cellspacing="0">
			<thead>
				<tr>
					<th>Cód.</th>
					<th>Cliente</th>
					<th>Banco</th>
					<th>Agência</th>
					<th>C/Corrente</th>
					<th>NºCheque</th>
					<th>Valor</th>
					<th>Dt.Base</th>
					<th>Emitente</th>
					<th>Vencim.</th>
					<th>Dias</th>
					<th>Taxa</th>
					<th>Juros</th>
					<th>Líquido</th>
					<th>Devol</th>
				</tr>	
			</thead>
			<tbody>
				{loop="$Data"}
				<tr>
					<td id="tdId">{$value.checkId}</td>
					<td style="text-transform: capitalize" id="tdClient">{$value.clientName}</td>
					<td id="tdBank">{$value.checkBank}</td>
					<td id="tdAgency">{$value.checkAgency}</td>
					<td id="tdAccount">{$value.checkAccount}</td>
					<td id="tdNumChk">{$value.checkNumChk}</td>
					<td id="tdValue">{$value.checkValue}</td>
					<td id="tdToday">{$value.checkToday}</td>
					<td id="tdIssuer" style="text-transform: capitalize">{$value.checkIssuer}</td>
					<td>{$value.checkDue}</td>
					<td>{$value.checkDays}</td>
					<td>{$value.checkTax}</td>
					<td>{$value.checkIntrst}</td>
					<td>{$value.checkLiquid}</td>
					<td>{if="$value.checkReturned == 1"}Sim{else}Não{/if}</td>
					<td>
						<!--<a href="bank_check/{$value.checkId}/edit" onclick="update()">Editar</a>-->
						<a href="bank_check/{$value.checkId}/update">Editar</a>
						
						<a href="bank_check/{$value.checkId}/delete" onclick="return confirm('Deseja realmente excluir este registro?')" class="btn-danger btn-xs"><i class="fa fa-trash"></i> Excluir</a>
					</td>
				</tr>
				{/loop}
			</tbody>
		</table>
	</div>
</body>

<!-- JavaScript (Opcional) -->
    <!-- jQuery primeiro, depois Popper.js, depois Bootstrap JS -->
    <script src="/resource/bs_js/jquery-3.3.1.slim.min.js"></script>
    <script src="/resource/bs_js/popper.min.js"></script>
    <script src="/resource/bs_js/bootstrap.min.js"></script>
	<script type="text/javascript" src="/resource/bank_check.js"></script>
</html>